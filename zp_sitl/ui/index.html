<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ZeroPilot SITL</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/sebmatton/jQuery-Flight-Indicators@master/js/jquery.flightindicators.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sebmatton/jQuery-Flight-Indicators@master/css/flightindicators.css">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="startup-modal" class="startup-modal">
        <div class="startup-form">
            <h2>Initial Configuration</h2>
            <form id="startup-config">
                <div class="form-group"><label>Altitude (ft)</label><input type="number" id="init-altitude" value="5000" step="100"></div>
                <div class="form-group"><label>Airspeed (kts)</label><input type="number" id="init-speed" value="75" step="5"></div>
                <div class="form-group"><label>Roll (deg)</label><input type="number" id="init-roll" value="0" step="1"></div>
                <div class="form-group"><label>Pitch (deg)</label><input type="number" id="init-pitch" value="0" step="1"></div>
                <div class="form-group"><label>Heading (deg)</label><input type="number" id="init-heading" value="0" step="1"></div>
                <div class="form-group"><label>Throttle (%)</label><input type="number" id="init-throttle" value="0" min="0" max="100"></div>
                <div class="form-group">
                    <label class="checkbox-label"><input type="checkbox" id="init-engine" checked> Start Armed</label>
                </div>
                <button type="submit" class="start-btn">START SIMULATION</button>
            </form>
        </div>
    </div>

    <div class="container hidden" id="sim-container">
        <h1>ZeroPilot SITL - JSBSim</h1>
        
        <div class="panel">
            <h2>Aircraft State</h2>
            <div class="state">
                <div class="state-item"><div>Roll</div><div class="value" id="roll">0&deg;</div></div>
                <div class="state-item"><div>Pitch</div><div class="value" id="pitch">0&deg;</div></div>
                <div class="state-item"><div>Yaw</div><div class="value" id="yaw">0&deg;</div></div>
                <div class="state-item"><div>Altitude</div><div class="value" id="altitude">0 ft</div></div>
                <div class="state-item"><div>Airspeed</div><div class="value" id="airspeed">0 kts</div></div>
                <div class="state-item"><div>RPM</div><div class="value" id="rpm">0</div></div>
            </div>
        </div>

        <div class="panel controls-panel">
            <button id="arm-btn" class="arm-btn disarmed">ARM</button>
            <h2>RC Channels</h2>
            <div id="joy-note" class="joystick-status" style="color: #888;">Joystick not detected.</div>
            <div class="controls">
                <div class="control-group">
                    <label>Roll: <span id="roll-val">50</span></label>
                    <input type="range" id="roll-ctrl" min="0" max="100" value="50">
                    <div style="font-size: 12px; color: #888;">Motor: <span id="roll-out">50</span></div>
                </div>
                <div class="control-group">
                    <label>Pitch: <span id="pitch-val">50</span></label>
                    <input type="range" id="pitch-ctrl" min="0" max="100" value="50">
                    <div style="font-size: 12px; color: #888;">Motor: <span id="pitch-out">50</span></div>
                </div>
                <div class="control-group">
                    <label>Yaw: <span id="yaw-val">50</span></label>
                    <input type="range" id="yaw-ctrl" min="0" max="100" value="50">
                    <div style="font-size: 12px; color: #888;">Motor: <span id="yaw-out">50</span></div>
                </div>
                <div class="control-group">
                    <label>Throttle: <span id="throttle-val">0</span></label>
                    <input type="range" id="throttle-ctrl" min="0" max="100" value="0">
                    <div style="font-size: 12px; color: #888;">Motor: <span id="throttle-out">0</span></div>
                </div>
            </div>
        </div>

        <div class="panel">
            <h2>Flight Instruments</h2>
            <div class="instruments">
                <span id="airspeed-indicator"></span>
                <span id="attitude"></span>
                <span id="altimeter"></span>
                <span id="turn-coordinator"></span>
                <span id="heading-indicator"></span>
                <span id="vsi"></span>
            </div>
        </div>

        <div class="panel">
            <h2>Telemetry Viewer</h2>
            <div style="display: flex; gap: 20px;">
                <div style="flex: 1;"><h3>Transmitted</h3><div id="telem-tx" class="telem-box"></div></div>
                <div style="flex: 1;"><h3>Received</h3><div id="telem-rx" class="telem-box"></div></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
